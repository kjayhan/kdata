library(devtools)
load_all
usethis::create_package()
usethis::create_tidy_package("https://github.com/kjayhan/kdata")
usethis::create_tidy_package("kjayhan/kdata")
usethis::create_tidy_package("kdata")
usethis::create_package()
usethis::create_package("kdata")
usethis::use_version()
usethis::use_version()
package_version(kdata)
package_version()
package_version("kdata")
load_all()
package_version(kdata)
utils::packageVersion("kdata")
usethis::use_version()
usethis::use_version()
usethis::use_version()
utils::packageVersion("kdata")
usethis::use_version()
usethis::use_version()
# https://www.data.go.kr/data/15013104/standard.do
# 전국문화축제표준데이터
# 전국문화축제표준데이터-20240323.xls
#some transformations on google sheets because of =googletranslate() function
library(tidyverse)
festival_data <- readr::read_csv("data-raw/culture/festival_data.csv")
# readr::write_csv(festival_data, "data-raw/culture/festival_data.csv")
usethis::use_data(festival_data, overwrite = TRUE, internal = FALSE)
devtools::document()
install.packages("gitcreds")
library(gitcreds)
gitcreds_set()
usethis::use_version()
devtools::check()
devtools::check()
library(devtools)
document()
roxygen2::roxygenise()
check()
load_all()
install()
install()
use_version()
students <- kdata::international_students_data
View(students)
students_g <- students %>%
group_by(iso3c) %>%
summarise(n = sum(no_int_students, na.rm = TRUE))
students_g <- students |>
group_by(iso3c) |>
summarise(n = sum(no_int_students, na.rm = TRUE))
library(tidyverse)
students_g <- students |>
group_by(iso3c) |>
summarise(n = sum(no_int_students, na.rm = TRUE))
students_g <- students |>
group_by(iso3c) |>
summarise(n = sum(no_int_student, na.rm = TRUE))
students_g <- students |>
group_by(iso3c) |>
summarise(n = sum(no_int_student, na.rm = TRUE)) |>
arrange(desc(n))
View(students_g)
top_iso3c <- students |>
group_by(iso3c) |>
summarise(n = sum(no_int_student, na.rm = TRUE)) |>
arrange(desc(n)) |>
pull(iso3c)
students |>
filter(iso3c %in% top_iso3c) |>
ggplot(aes(year, no_int_student, color = iso3c)) +
geom_line()
top_iso3c <- students |>
group_by(iso3c) |>
summarise(n = sum(no_int_student, na.rm = TRUE)) |>
arrange(desc(n)) |>
head(12) |>
pull(iso3c)
students |>
filter(iso3c %in% top_iso3c) |>
ggplot(aes(year, no_int_student, color = iso3c)) +
geom_line()
students |>
filter(iso3c %in% top_iso3c) |>
ggplot(aes(year, no_int_student, color = iso3c)) +
geom_point()
top_iso3c <- students |>
group_by(iso3c) |>
summarise(n = sum(no_int_student, na.rm = TRUE)) |>
arrange(desc(n)) |>
head(4) |>
pull(iso3c)
students |>
filter(iso3c %in% top_iso3c) |>
ggplot(aes(year, no_int_student, color = iso3c)) +
geom_point()
students |>
group_by(iso3c, year) |>
summarise(n = sum(no_int_student, na.rm = TRUE)) |>
arrange(desc(n))
students_g <- students |>
group_by(iso3c, year) |>
summarise(n = sum(no_int_student, na.rm = TRUE)) |>
arrange(desc(n))
View(students_g)
students <- students |>
group_by(iso3c, year, degree) |>
summarise(n = mean(no_int_student, na.rm = TRUE)) |>
arrange(desc(n))
students <- students |>
group_by(iso3c, year, visa) |>
summarise(n = mean(no_int_student, na.rm = TRUE)) |>
arrange(desc(n))
students <- students |>
group_by(iso3c, year, visa) |>
summarise(n = round(mean(no_int_student, na.rm = TRUE))) |>
arrange(desc(n))
View(students)
View(students)
students <- kdata::international_students_data
students <- students |>
group_by(iso3c, year, visa) |>
summarise(n = round(mean(no_int_student, na.rm = TRUE))) |>
arrange(desc(n))
students_lang |>
students |>
filter(visa == "Language")
students_lang <-
students |>
filter(visa == "Language")
students_deg <- students |>
filter(visa == "Degree")
View(students_deg)
students_lang_g <- students_lang |>
group_by(iso3c) |>
summarise(n = sum(n))
students_deg_g <- students_deg |>
group_by(iso3c) |>
summarise(n = sum(n))
top_iso3c <- students_deg_g |>
head(5) |>
pull(iso3c)
students_deg_g |>
filter(iso3c %in% top_iso3c) |>
ggplot(aes(year, no_int_student, color = iso3c)) +
geom_point()
students_deg_g |>
filter(iso3c %in% top_iso3c) |>
ggplot(aes(year, n, color = iso3c)) +
geom_point()
students |>
filter(iso3c %in% top_iso3c) |>
ggplot(aes(year, no_int_student, color = iso3c)) +
geom_point()
students |>
filter(iso3c %in% top_iso3c) |>
ggplot(aes(year, n, color = iso3c)) +
geom_point()
students |>
filter(iso3c %in% top_iso3c &
visa = "Degree") |>
students |>
filter(iso3c %in% top_iso3c &
visa == "Degree") |>
ggplot(aes(year, n, color = iso3c)) +
geom_line()
top_iso3c <- students_deg_g |>
head(8) |>
pull(iso3c)
students |>
filter(iso3c %in% top_iso3c &
visa == "Degree") |>
ggplot(aes(year, n, color = iso3c)) +
geom_line()
students <- kdata::international_students_data
View(students)
top_iso3c <- students |>
head(8) |>
pull(iso3c)
students |>
filter(iso3c %in% top_iso3c &
visa == "Degree") |>
ggplot(aes(year, n, color = iso3c)) +
geom_line()
students <- students |>
group_by(iso3c, year, visa) |>
summarise(n = round(mean(no_int_student, na.rm = TRUE))) |>
arrange(desc(n))
top_iso3c <- students |>
head(8) |>
pull(iso3c)
top_iso3c <- students |>
head(8) |>
pull(iso3c) |>
unique()
top_iso3c <- students |>
head(15) |>
pull(iso3c) |>
unique()
top_iso3c <- students |>
head(20) |>
pull(iso3c) |>
unique()
top_iso3c <- students |>
head(25) |>
pull(iso3c) |>
unique()
students |>
filter(iso3c %in% top_iso3c &
visa == "Degree") |>
ggplot(aes(year, n, color = iso3c)) +
geom_line()
top_iso3c <- students |>
head(30) |>
pull(iso3c) |>
unique()
students |>
filter(iso3c %in% top_iso3c &
visa == "Degree") |>
ggplot(aes(year, n, color = iso3c)) +
geom_line()
students |>
filter(iso3c %in% top_iso3c &
visa == "Language") |>
ggplot(aes(year, n, color = iso3c)) +
geom_line()
students |>
filter(visa == "Language") |>
ggplot(aes(year, n)) +
geom_line()
students |>
filter(visa == "Language") |>
ggplot(aes(year, sum(n))) +
geom_line()
ggplot(aes(year, group_by_iso3c |> summarise(n = sum(n))) +
geom_line()
students_ind <- kdata::
students_ind <- kdata::international_students_all_individual_data
colnames(students_ind)
students_ind <- students_ind |>
group_by(iso3c, visa, university, sex) |>
summarise(n = n()) |>
arrange(desc(n))
students_ind <- students_ind |>
group_by(iso3c, visa, university_kr, sex) |>
summarise(n = n()) |>
arrange(desc(n))
View(students_ind)
students_ind_uni <- students_ind |>
group_by(iso3c, visa, university_kr, sex) |>
filter(!is.na(university_kr)) |>
summarise(n = n()) |>
arrange(desc(n))
students_ind <- kdata::international_students_all_individual_data
students_ind_uni <- students_ind |>
group_by(iso3c, visa, university_kr, sex) |>
filter(!is.na(university_kr)) |>
summarise(n = n()) |>
arrange(desc(n))
View(students_ind_uni)
students_ind_uni <- students_ind |>
group_by(visa, university_kr) |>
filter(!is.na(university_kr)) |>
summarise(n = n()) |>
arrange(desc(n))
View(students_ind_uni)
students_ind_iso3c <- students_ind |>
group_by(visa, iso3c) |>
filter(!is.na(iso3c)) |>
summarise(n = n()) |>
arrange(desc(n))
View(students_ind_iso3c)
students_ind_iso3c <- students_ind |>
group_by(visa, iso3c, university_kr) |>
filter(!is.na(iso3c)) |>
summarise(n = n()) |>
arrange(desc(n))
students_ind_iso3c <- students_ind |>
group_by(visa, iso3c) |>
filter(!is.na(iso3c)) |>
summarise(n = n()) |>
arrange(desc(n))
students_ind_ewha <- students_ind |>
group_by(visa, iso3c, university_kr, sex) |>
# filter if it has "이화여자대학교" somewhere in the string
filter(str_detect(university_kr, "이화여자대학교")) |>
summarise(n = n()) |>
arrange(desc(n))
View(students_ind_ewha)
international_students_all_individual_data <- readr::read_csv("data-raw/education/international_students_all_individual_data.csv")
View(international_students_all_individual_data)
international_students_all_individual_data <- international_students_all_individual_data %>%
select(-country_kr, -visa)
international_students_all_individual_data <- international_students_all_individual_data |>
select(-country_kr, -visa)
# 법무부_47(외국인 유학생) 월별 외국인 유학생 국적(지역)별 현황.csv
# https://www.data.go.kr/data/15100039/fileData.do
# downloaded 2024.03.23
# last updated 2024.03.26
library(tidyverse)
international_students_all_individual_data <- readr::read_csv("data-raw/education/international_students_all_individual_data.csv")
# international_students_all_individual_data <- kdiplo::iso3c(international_students_all_individual_data, 'country_kr')
#
# international_students_all_individual_data <- international_students_all_individual_data %>%
#   mutate(country = countrycode::countrycode(iso3c, "iso3c", "country.name")) %>%
#   mutate(country = dplyr::case_when(iso3c %in% "XKX" ~ "Kosovo",
#                                     is.na(iso3c) ~ "Stateless, refugee, or other",
#                                        TRUE ~ country))
#
# international_students_all_individual_data <- international_students_all_individual_data %>%
#   dplyr::mutate(sex = dplyr::case_when(
#     sex == "여" ~ "Female",
#     TRUE ~ "Male"
#   ),
#   type = dplyr::case_when(
#     grepl("교환학생", visa) ~ "Exchange Student",
#     grepl("학술연구기관 특정연구자", visa) ~ "Researcher",
#     grepl("전문학사과정", visa) ~ "College Degree",
#     visa == "학사과정" ~ "Bachelor",
#     grepl("석사", visa) ~ "Master",
#     grepl("박사", visa) ~ "PhD",
#     grepl("대학부설 어학원 연수", visa) ~ "Korean Language",
#     grepl("외국어연수생", visa) ~ "Foreign Language",
#     TRUE ~ "Other"
#   ))
#
# readr::write_csv(international_students_all_individual_data, "data-raw/education/international_students_all_individual_data.csv")
international_students_all_individual_data <- international_students_all_individual_data |>
select(-country_kr, -visa)
usethis::use_data(international_students_all_individual_data, overwrite = TRUE, internal = FALSE)
international_students_data <- readr::read_csv("data-raw/education/international_students_data.csv")
View(international_students_data)
international_students_data <- international_students_data |>
select(-country_kr)
usethis::use_data(international_students_data, overwrite = TRUE, internal = FALSE)
devtools::document()
usethis::use_version()
# 법무부_47(외국인 유학생) 월별 외국인 유학생 국적(지역)별 현황.csv
# https://www.data.go.kr/data/15100039/fileData.do
# downloaded 2024.03.23
# last updated 2024.03.26
library(tidyverse)
international_students_all_individual_data <- readr::read_csv("data-raw/education/international_students_all_individual_data.csv")
# international_students_all_individual_data <- kdiplo::iso3c(international_students_all_individual_data, 'country_kr')
#
# international_students_all_individual_data <- international_students_all_individual_data %>%
#   mutate(country = countrycode::countrycode(iso3c, "iso3c", "country.name")) %>%
#   mutate(country = dplyr::case_when(iso3c %in% "XKX" ~ "Kosovo",
#                                     is.na(iso3c) ~ "Stateless, refugee, or other",
#                                        TRUE ~ country))
#
# international_students_all_individual_data <- international_students_all_individual_data %>%
#   dplyr::mutate(sex = dplyr::case_when(
#     sex == "여" ~ "Female",
#     TRUE ~ "Male"
#   ),
#   type = dplyr::case_when(
#     grepl("교환학생", visa) ~ "Exchange Student",
#     grepl("학술연구기관 특정연구자", visa) ~ "Researcher",
#     grepl("전문학사과정", visa) ~ "College Degree",
#     visa == "학사과정" ~ "Bachelor",
#     grepl("석사", visa) ~ "Master",
#     grepl("박사", visa) ~ "PhD",
#     grepl("대학부설 어학원 연수", visa) ~ "Korean Language",
#     grepl("외국어연수생", visa) ~ "Foreign Language",
#     TRUE ~ "Other"
#   ))
#
# readr::write_csv(international_students_all_individual_data, "data-raw/education/international_students_all_individual_data.csv")
international_students_all_individual_data <- international_students_all_individual_data |>
select(-country_kr, -visa)
usethis::use_data(education/international_students_all_individual_data, overwrite = TRUE, internal = FALSE)
library(tidyverse)
status_of_foreign_students_data <- readr::read_csv("data-raw/education/status_of_foreign_students_data.csv")
View(status_of_foreign_students_data)
View(status_of_foreign_students_data)
status_of_foreign_students_data <- status_of_foreign_students_data |>
janitor::clean_names()
View(status_of_foreign_students_data)
colnames(status_of_foreign_students_data)
status_of_foreign_students_data <- status_of_foreign_students_data |>
pivot_longer(cols = c(9:13),
names_to = "field",
values_to = "number_of_students") |>
pivot_longer(cols = c(16:19),
names_to = "non-degree_students",
values_to = "number_of_non-degree_students")
View(status_of_foreign_students_data)
status_of_foreign_students_data <- status_of_foreign_students_data |>
pivot_longer(cols = c(9:13),
names_to = "field",
values_to = "number_of_students")
colnames(status_of_foreign_students_data
colnames(status_of_foreign_students_data)
colnames(status_of_foreign_students_data
colnames(status_of_foreign_students_data
colnames(status_of_foreign_students_data)
status_of_foreign_students_data <- status_of_foreign_students_data |>
pivot_longer(cols = c(11:14),
names_to = "non-degree_students",
values_to = "number_of_non-degree_students")
colnames(status_of_foreign_students_data)
status_of_foreign_students_data <- status_of_foreign_students_data |>
select(1:4, 6, 15:18) |>
rename(year = base_year,
classification = establishment_classification)
status_of_foreign_students_data <- status_of_foreign_students_data |>
select(1:4, 6, 15:18) |>
rename(year = "base_year",
classification = "establishment_classification")
status_of_foreign_students_data <- status_of_foreign_students_data |>
select(1:4, 6, 15:18) |>
rename(year = "baseyear",
classification = "establishment_classification")
status_of_foreign_students_data <- readr::read_csv("data-raw/education/status_of_foreign_students_data.csv")
status_of_foreign_students_data <- status_of_foreign_students_data |>
pivot_longer(cols = c(9:13),
names_to = "field",
values_to = "number_of_students")
status_of_foreign_students_data <- status_of_foreign_students_data |>
pivot_longer(cols = c(11:14),
names_to = "non-degree_students",
values_to = "number_of_non-degree_students")
status_of_foreign_students_data <- status_of_foreign_students_data |>
select(1:4, 6, 15:18) |>
rename(year = "baseyear",
classification = "establishment_classification")
status_of_foreign_students_data <- status_of_foreign_students_data |>
select(1:4, 6, 15:18) |>
rename(year = "Baseyear",
classification = "establishment_classification")
status_of_foreign_students_data <- status_of_foreign_students_data |>
select(1:4, 6, 15:18) |>
rename(year = Baseyear,
classification = `Establishment Classification`)
status_of_foreign_students_data <- status_of_foreign_students_data |>
select(1:4, 6, 15:18) |>
rename(year = "Baseyear",
classification = "Establishment classification")
status_of_foreign_students_data <- status_of_foreign_students_data |>
janitor::clean_names()
# remove _Principal university from all university names
status_of_foreign_students_data$university <- gsub("_Principal university", "", status_of_foreign_students_data$university)
# remove _Principal university from all school names
status_of_foreign_students_data$school <- gsub("_Principal university", "", status_of_foreign_students_data$university)
# remove _Principal university from all school names
status_of_foreign_students_data$school <- gsub("_Principal university", "", status_of_foreign_students_data$school)
status_of_foreign_students_data <- readr::read_csv("data-raw/education/status_of_foreign_students_data.csv")
status_of_foreign_students_data <- status_of_foreign_students_data |>
pivot_longer(cols = c(9:13, 16:19),
names_to = "field",
values_to = "number_of_students")
status_of_foreign_students_data <- status_of_foreign_students_data |>
select(1:4, 6, 15:16) |>
rename(year = "Baseyear",
classification = "Establishment classification")
status_of_foreign_students_data <- status_of_foreign_students_data |>
janitor::clean_names()
# remove _Principal university from all school names
status_of_foreign_students_data$school <- gsub("_Principal university", "", status_of_foreign_students_data$school)
readr::write_csv(status_of_foreign_students_data, "data-raw/education/status_of_foreign_students_processed_data")
#   select(1:4, 6, 15:16) |>
#   rename(year = "Baseyear",
#          classification = "Establishment classification")
#
# status_of_foreign_students_data <- status_of_foreign_students_data |>
#   janitor::clean_names()
#
# # remove _Principal university from all school names
# status_of_foreign_students_data$school <- gsub("_Principal university", "", status_of_foreign_students_data$school)
#
readr::write_csv(status_of_foreign_students_data, "data-raw/education/status_of_foreign_students_processed_data.csv")
status_of_foreign_students_data <- readr::read_csv("data-raw/education/status_of_foreign_students_processed_data.csv")
usethis::use_data(status_of_foreign_students_data, overwrite = TRUE, internal = FALSE)
devtools::document()
pkgdown::build_site_github_pages()
pkgdown::preview_page('reference/index.html')
pkgdown::deploy_site_github()
pkgdown::preview_page('.nojekyll')
pkgdown::deploy_site_github()
usethis::use_pkgdown()
pkgdown::build_site()
pkgdown::build_site_github_pages()
pkgdown::deploy_site_github()
usethis::use_pkgdown_github_pages()
usethis::use_pkgdown()
usethis::use_pkgdown()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
devtools::document()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
usethis::use_pkgdown_github_pages()
devtools::document()
pkgdown::build_site()
usethis:::git_push_first()
sethis::browse_github_actions()
usethis::browse_github_actions()
devtools::document()
usethis::use_pkgdown_github_pages()
pkgdown::deploy_to_branch()
pkgdown::build_site()
devtools::document()
pkgdown::build_site()
pkgdown::build_site()
usethis::use_pkgdown_github_pages()
